<section class="auth-page">
  <div class="auth-container">
    <div class="auth-card">
      <div class="auth-logo">
        <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="32" cy="32" r="30" stroke="#2ECC71" stroke-width="3"/>
          <path d="M32 16V48M16 32H48" stroke="#2ECC71" stroke-width="4" stroke-linecap="round"/>
          <path d="M32 8C20 8 12 20 12 32C12 44 20 56 32 56C44 56 52 44 52 32" stroke="#AEEA00" stroke-width="3" stroke-linecap="round"/>
        </svg>
      </div>

      <h1 class="auth-title">Forgot Password</h1>
      <p class="auth-subtitle">Enter your phone number to receive reset instructions</p>

      <form [formGroup]="form" class="auth-form" novalidate>
        <div class="form-group">
          <label for="phone" class="form-label">Phone Number</label>
          <input
            id="phone"
            type="tel"
            class="form-input"
            formControlName="phone"
            data-testid="forgot-password-phone"
            placeholder="Enter your 10-digit phone"
            autocomplete="tel"
          />
          @if (form.controls['phone']?.touched && form.controls['phone']?.invalid) {
            <span class="error-message">Please enter a valid 10-digit phone number</span>
          }
        </div>

        <button
          type="button"
          class="btn btn-primary btn-full"
          data-testid="forgot-password-submit"
          (click)="submit()"
          [disabled]="form.invalid || submitting()"
        >
          @if (submitting()) {
            <span class="spinner"></span>
          } @else {
            Send Reset Instructions
          }
        </button>

        @if (statusMessage) {
          <div class="status-message" role="status" aria-live="polite">{{ statusMessage }}</div>
        }
      </form>

      <div class="auth-footer">
        <span>Remembered your password? </span>
        <a class="auth-link" (click)="goToLogin()">Back to Sign In</a>
      </div>
    </div>
  </div>
</section>
