<section class="profile-page">
  <!-- Header -->
  <header class="page-header">
    <h1 class="page-title">Profile</h1>
  </header>

  <!-- Loading State -->
  @if (loading) {
    <div class="loading-state">
      <div class="loading-spinner"></div>
      <p>Loading profile...</p>
    </div>
  } @else if (user) {
    <!-- Profile Header -->
    <div class="profile-header">
      <div class="avatar-container">
        <div class="avatar">{{ user.avatar }}</div>
      </div>
      <h2 class="user-name">{{ user.name }}</h2>
      @if (user.phone) {
        <p class="user-phone">{{ user.phone }}</p>
      }
    </div>

    <!-- Menu Items -->
    <div class="menu-container">
      <div class="menu-list">
        @for (item of menuItems; track item.label) {
          <a class="menu-item" [routerLink]="item.route">
            <div class="menu-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="#2ECC71" stroke-width="2">
                @if (item.icon === 'bell') {
                  <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                  <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                }
              </svg>
            </div>
            <span class="menu-label">{{ item.label }}</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6"/>
            </svg>
          </a>
        }

        <!-- Logout -->
        <button class="menu-item logout" (click)="logout()">
          <div class="menu-icon logout-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
              <polyline points="16 17 21 12 16 7"/>
              <line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
          </div>
          <span class="menu-label logout-label">Logout</span>
        </button>
      </div>
    </div>
  }

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <a class="nav-item" routerLink="/patient/dashboard">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
        <polyline points="9 22 9 12 15 12 15 22"/>
      </svg>
      <span class="nav-label">Home</span>
    </a>
    <a class="nav-item" routerLink="/patient/appointments">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
        <line x1="16" y1="2" x2="16" y2="6"/>
        <line x1="8" y1="2" x2="8" y2="6"/>
        <line x1="3" y1="10" x2="21" y2="10"/>
      </svg>
      <span class="nav-label">Appointments</span>
    </a>
    <a class="nav-item active" routerLink="/patient/profile">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
        <circle cx="12" cy="7" r="4"/>
      </svg>
      <span class="nav-label">Profile</span>
    </a>
  </nav>
</section>
