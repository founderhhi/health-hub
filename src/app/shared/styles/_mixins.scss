/* ============================================
   Health Hub SCSS Mixins
   ============================================
   
   Reusable mixins for common patterns.
   
   Usage:
   @use 'mixins' as m;
   
   .my-class {
     @include m.flex-center;
     @include m.responsive-padding;
   }
   
   Or with wildcard import:
   @use 'mixins' as *;
   
   .my-class {
     @include flex-center;
   }
   ============================================ */

@use 'variables' as v;

// ============================================
// Flexbox Mixins
// ============================================

@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

@mixin flex-start {
  display: flex;
  align-items: center;
  justify-content: flex-start;
}

@mixin flex-end {
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

@mixin flex-column {
  display: flex;
  flex-direction: column;
}

@mixin flex-column-center {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

@mixin flex-wrap {
  display: flex;
  flex-wrap: wrap;
}

// ============================================
// Responsive Breakpoint Mixins
// ============================================

@mixin xs {
  @media (max-width: #{v.$breakpoint-xs - 1px}) {
    @content;
  }
}

@mixin sm {
  @media (min-width: v.$breakpoint-sm) {
    @content;
  }
}

@mixin md {
  @media (min-width: v.$breakpoint-md) {
    @content;
  }
}

@mixin lg {
  @media (min-width: v.$breakpoint-lg) {
    @content;
  }
}

@mixin xl {
  @media (min-width: v.$breakpoint-xl) {
    @content;
  }
}

@mixin mobile {
  @media (max-width: #{v.$breakpoint-md - 1px}) {
    @content;
  }
}

@mixin tablet {
  @media (min-width: v.$breakpoint-md) and (max-width: #{v.$breakpoint-lg - 1px}) {
    @content;
  }
}

@mixin desktop {
  @media (min-width: v.$breakpoint-lg) {
    @content;
  }
}

// ============================================
// Container Mixins
// ============================================

@mixin container {
  width: 100%;
  max-width: v.$max-width-xl;
  margin-left: auto;
  margin-right: auto;
  padding-left: v.$space-md;
  padding-right: v.$space-md;

  @include lg {
    padding-left: v.$space-lg;
    padding-right: v.$space-lg;
  }
}

@mixin container-narrow {
  max-width: v.$content-max-width;
}

@mixin container-wide {
  max-width: v.$content-max-width-wide;
}

// ============================================
// Card Mixins
// ============================================

@mixin card {
  background: v.$color-white;
  border: 1px solid v.$color-border;
  border-radius: v.$radius-md;
  padding: v.$card-padding;
  box-shadow: v.$shadow-sm;
}

@mixin card-elevated {
  background: v.$color-white;
  border: none;
  border-radius: v.$radius-md;
  padding: v.$card-padding;
  box-shadow: v.$shadow-md;
}

@mixin card-outlined {
  background: transparent;
  border: 1px solid v.$color-border;
  border-radius: v.$radius-md;
  padding: v.$card-padding;
}

// ============================================
// Button Mixins
// ============================================

@mixin button-base {
  min-height: v.$button-height;
  padding: 0 v.$button-padding-x;
  border-radius: v.$button-border-radius;
  font-size: v.$font-size-base;
  font-weight: v.$font-weight-semibold;
  border: 1px solid transparent;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: v.$space-sm;
  cursor: pointer;
  transition: all v.$transition-fast;
  font-family: v.$font-family-primary;

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  &:focus-visible {
    outline: none;
    box-shadow: v.$shadow-focus;
  }
}

@mixin button-primary {
  @include button-base;
  background: v.$color-emerald;
  border-color: v.$color-emerald;
  color: v.$color-text-primary;

  &:hover:not(:disabled) {
    background: v.$color-emerald-hover;
    border-color: v.$color-emerald-hover;
  }
}

@mixin button-secondary {
  @include button-base;
  background: v.$color-white;
  border-color: v.$color-border-input;
  color: v.$color-text-primary;

  &:hover:not(:disabled) {
    background: v.$color-surface;
  }
}

@mixin button-ghost {
  @include button-base;
  background: transparent;
  border-color: transparent;
  color: v.$color-soft-charcoal;

  &:hover:not(:disabled) {
    background: v.$color-surface;
  }
}

@mixin button-danger {
  @include button-base;
  background: transparent;
  border-color: transparent;
  color: v.$color-danger;

  &:hover:not(:disabled) {
    background: v.$color-danger-light;
  }
}

// ============================================
// Input Mixins
// ============================================

@mixin input-base {
  width: 100%;
  min-height: v.$input-height;
  border: 1px solid v.$input-border-color;
  border-radius: v.$input-border-radius;
  padding: 0 v.$input-padding-x;
  font-size: v.$font-size-base;
  color: v.$color-text-primary;
  background: v.$color-white;
  font-family: v.$font-family-primary;
  transition: all v.$transition-fast;

  &::placeholder {
    color: v.$color-text-placeholder;
  }

  &:focus-visible {
    outline: none;
    border-color: v.$input-focus-border-color;
    box-shadow: v.$shadow-focus;
  }

  &:disabled {
    background: v.$color-surface;
    cursor: not-allowed;
  }
}

@mixin textarea-base {
  @include input-base;
  padding: v.$space-sm v.$input-padding-x;
  min-height: 120px;
  resize: vertical;
}

// ============================================
// Typography Mixins
// ============================================

@mixin text-truncate {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

@mixin text-truncate-multiline($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

@mixin sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// ============================================
// Scrollbar Mixins
// ============================================

@mixin scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;

  &::-webkit-scrollbar {
    display: none;
  }
}

@mixin scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: v.$color-border transparent;

  &::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: v.$color-border;
    border-radius: v.$radius-full;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: v.$color-text-light;
  }
}

// ============================================
// Animation Mixins
// ============================================

@mixin fade-in($duration: v.$duration-base) {
  animation: fadeIn $duration ease;

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }
}

@mixin slide-up($duration: v.$duration-base) {
  animation: slideUp $duration ease;

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

@mixin pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;

  @keyframes pulse {

    0%,
    100% {
      opacity: 1;
    }

    50% {
      opacity: 0.5;
    }
  }
}

// ============================================
// Safe Area Mixins (iOS)
// ============================================

@mixin safe-area-bottom {
  padding-bottom: v.$safe-area-bottom;
}

@mixin safe-area-left {
  padding-left: v.$safe-area-left;
}

@mixin safe-area-right {
  padding-right: v.$safe-area-right;
}

// ============================================
// Global Design System Animations
// ============================================

@keyframes hhi-spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

@mixin animation-spin($duration: 1s) {
  animation: hhi-spin $duration linear infinite;
}

@keyframes hhi-fade-in-up {
  from {
    opacity: 0;
    transform: translateY(16px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@mixin animation-fade-in-up($delay: 0ms) {
  animation: hhi-fade-in-up 400ms ease-out $delay both;
}

@keyframes hhi-haptic-pulse {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.04);
  }
}

@mixin animation-haptic-pulse {
  animation: hhi-haptic-pulse 2s ease-in-out infinite;
}

@keyframes hhi-scan {
  0% {
    top: 0;
  }

  100% {
    top: 100%;
  }
}

@mixin animation-scan {
  animation: hhi-scan 2s linear infinite;
}

@keyframes hhi-shimmer {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

@mixin skeleton-shimmer {
  background: linear-gradient(90deg, #121826 25%, #1c2535 50%, #121826 75%);
  background-size: 200% 100%;
  animation: hhi-shimmer 1.5s ease-in-out infinite;
}